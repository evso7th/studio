"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[933],{10:(e,a,t)=>{t.d(a,{$v:()=>h,EO:()=>m,Lt:()=>i,Rx:()=>x,ck:()=>p,r7:()=>g,tv:()=>d,wd:()=>f});var o=t(5155),r=t(2115),s=t(7830),n=t(9434),l=t(285);let i=s.bL,d=s.l9,c=s.ZL,u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,o.jsx)(s.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in data-[state=open]:duration-500",t),...r,ref:a})});u.displayName=s.hJ.displayName;let m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,o.jsxs)(c,{children:[(0,o.jsx)(u,{}),(0,o.jsx)(s.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-500 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});m.displayName=s.UC.displayName;let f=e=>{let{className:a,...t}=e;return(0,o.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};f.displayName="AlertDialogHeader";let p=e=>{let{className:a,...t}=e;return(0,o.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};p.displayName="AlertDialogFooter";let g=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,o.jsx)(s.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold",t),...r})});g.displayName=s.hE.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,o.jsx)(s.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});h.displayName=s.VY.displayName;let x=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,o.jsx)(s.rc,{ref:a,className:(0,n.cn)((0,l.r)(),t),...r})});x.displayName=s.rc.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,o.jsx)(s.ZD,{ref:a,className:(0,n.cn)((0,l.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})}).displayName=s.ZD.displayName},285:(e,a,t)=>{t.d(a,{$:()=>d,r:()=>i});var o=t(5155),r=t(2115),s=t(9708),n=t(2085),l=t(9434);let i=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,a)=>{let{className:t,variant:r,size:n,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,o.jsx)(u,{className:(0,l.cn)(i({variant:r,size:n,className:t})),ref:a,...c})});d.displayName="Button"},940:(e,a,t)=>{t.d(a,{W:()=>m});let o={Hero_jump1:{src:"/assets/sounds/Hero_jump1.mp3",volume:.5},Hero_fail:{src:"/assets/sounds/Hero_fail.mp3",volume:.6},Coin_splash:{src:"/assets/sounds/Coin_splash.mp3",volume:.4},takecoin:{src:"/assets/sounds/takecoin.mp3",volume:.5},allcoins:{src:"/assets/sounds/allcoins.mp3",volume:.7},First_screen:{src:"/assets/sounds/First_screen.mp3",loop:!0,volume:.3},New_level:{src:"/assets/sounds/New_level.mp3",volume:.6},Level1:{src:"/assets/sounds/Level1.mp3",loop:!0,volume:.25},Level2:{src:"/assets/sounds/Level2.mp3",loop:!0,volume:.25},Level3:{src:"/assets/sounds/Level3.mp3",loop:!0,volume:.25},final_screen:{src:"/assets/sounds/final_screen.mp3",loop:!0,volume:.4},bear_voice:{src:"/assets/sounds/bear_voice.mp3",volume:.7},exit:{src:"/assets/sounds/exit.mp3",volume:.6}},r={},s=!1,n=!1,l=null,i=()=>{if(!n){for(let e in o)if(!r[e])try{let a=o[e],t=new Audio(a.src);t.loop=!1,t.volume=void 0!==a.volume?a.volume:1,t.preload="auto",r[e]=t,a.loop&&t.addEventListener("ended",function(){l===e&&(this.currentTime=0,this.play().catch(a=>console.warn("[AudioManager] Custom loop restart for ".concat(e," failed:"),a.name,a.message)))})}catch(a){console.error("[AudioManager] Error preloading sound ".concat(e,":"),a)}n=!0}},d=()=>new Promise(e=>{if(s){e();return}try{let e=window.AudioContext||window.webkitAudioContext;if(e){let a=new e;"suspended"===a.state&&a.resume().then(()=>{}).catch(e=>console.warn("[AudioManager] AudioContext resume on creation failed:",e))}}catch(e){}let a=r.dummy_sound_for_init;a||((a=new Audio("data:audio/wav;base64,UklGRjIAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")).muted=!0,r.dummy_sound_for_init=a);let t=a.play();void 0!==t?t.then(()=>{a.pause(),s=!0,e()}).catch(a=>{console.warn("[AudioManager] Dummy audio play for context init failed:",a.name,a.message),e()}):(s=!0,e())}),c=async e=>{if(n||i(),!s)try{await d()}catch(a){console.error('[AudioManager] Fallback initAudio process encountered an issue for "'.concat(e,'":'),a)}let a=r[e];if(a){let t=o[e];if(null==t?void 0:t.loop){if(l===e&&!a.paused)return;l&&l!==e&&r[l]&&u(l),l=e}a.currentTime=0;let n=a.play();void 0!==n&&n.catch(t=>{"AbortError"===t.name||("NotAllowedError"!==t.name||s)&&console.error('[AudioManager] Error playing sound "'.concat(e,'" (src: ').concat(a.src,"):"),t.name,t.message)})}},u=e=>{let a=r[e];a&&(a.pause(),a.currentTime=0,l===e&&(l=null))},m={preloadSounds:i,initAudio:d,playSound:c,stopSound:u,stopAllSounds:()=>{for(let e in r){if("dummy_sound_for_init"===e)continue;let a=r[e];a&&(a.pause(),a.currentTime=0)}l=null},setVolume:(e,a)=>{let t=r[e];t&&(t.volume=Math.max(0,Math.min(1,a)))},isInitialized:()=>s,getCurrentPlayingLoop:()=>l&&r[l]&&!r[l].paused?l:null}},1575:(e,a,t)=>{t.d(a,{V:()=>i});var o=t(5155),r=t(5695),s=t(285),n=t(2115),l=t(940);function i(){let e=(0,r.useRouter)();return(0,n.useEffect)(()=>(l.W.stopAllSounds(),l.W.playSound("final_screen"),()=>{l.W.stopSound("final_screen")}),[]),(0,o.jsx)("div",{className:"fixed inset-0 z-50 flex flex-col items-center justify-center text-foreground animate-in fade-in duration-1000",style:{backgroundImage:"url(/assets/images/final.png)",backgroundSize:"cover",backgroundPosition:"center"},"data-ai-hint":"victory celebration achievement",role:"img","aria-label":"Final Screen Background",children:(0,o.jsxs)("div",{className:"bg-card/70 backdrop-blur-sm text-card-foreground p-8 rounded-xl shadow-2xl text-center max-w-md w-full transform transition-all animate-in fade-in zoom-in-90 duration-1000",children:[(0,o.jsx)("h1",{className:"text-4xl font-bold text-primary mb-4",children:"Поздравляем!"}),(0,o.jsx)("p",{className:"text-xl text-foreground/90 mb-2",children:"Главный приз - ваш!"}),(0,o.jsx)("p",{className:"text-xl text-foreground/90 mb-2",children:"Смело идите на IPO!"}),(0,o.jsx)("p",{className:"text-xl text-foreground/90 mb-8",children:"Вас ждет успех!"}),(0,o.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,o.jsx)(s.$,{onClick:()=>{l.W.stopSound("final_screen"),e.push("/")},variant:"destructive",size:"lg",className:"text-lg py-3 shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",children:"Играть снова"}),(0,o.jsx)(s.$,{onClick:()=>{l.W.stopSound("final_screen");try{let a=window.open("","_self");null==a||a.close(),a&&(!1===a.closed||void 0===a.closed)?(console.warn("Could not close the tab automatically. Navigating to the entry page."),e.push("/")):a||(console.warn("Could not open reference to close tab. Navigating to the entry page."),e.push("/"))}catch(a){console.error("Error attempting to close tab:",a),e.push("/")}},variant:"outline",size:"lg",className:"text-lg py-3 shadow-md hover:shadow-lg transform hover:scale-105 transition-all duration-200",children:"Закрыть игру"})]})]})})}},6364:(e,a,t)=>{t.d(a,{M:()=>l});var o=t(5155),r=t(2115),s=t(285);let n=["hsl(var(--primary))","hsl(var(--accent))","hsl(var(--coin-color))","hsl(var(--hero-color))","#FFD700","#FF69B4","#00FFFF","#DA70D6","#FF7F50"];function l(e){let{currentLevel:a,onNextLevel:t}=e,[l,i]=(0,r.useState)([]);return(0,r.useEffect)(()=>{let e=()=>{let e=[];for(let a=0;a<5;a++){let t=10+80*Math.random(),o=10+80*Math.random();for(let r=0;r<12;r++){let s=Math.random()*Math.PI*2,l=20*Math.random()+10,i=Math.cos(s)*l,d=Math.sin(s)*l,c=180/Math.PI*Math.atan2(d,i)-90;e.push({id:Date.now()+12*a+r+Math.random(),originX:"".concat(t,"%"),originY:"".concat(o,"%"),targetOffsetX:"".concat(i,"vmin"),targetOffsetY:"".concat(d,"vmin"),size:(2+2*Math.random())*4,color:n[Math.floor(Math.random()*n.length)],delay:1.4*Math.random(),duration:1.2+.8*Math.random(),trailAngle:c})}}i(e)};e();let a=setInterval(e,3500);return()=>clearInterval(a)},[]),(0,o.jsxs)("div",{className:"fixed inset-0 bg-black/70 flex flex-col items-center justify-center z-50 p-4 animate-in fade-in duration-1000",style:{backgroundImage:"url(/assets/images/wallpaper1.jpg)",backgroundSize:"cover",backgroundPosition:"center center",backgroundRepeat:"no-repeat"},"aria-modal":"true",role:"dialog","aria-labelledby":"level-complete-title","data-ai-hint":"abstract celebration",children:[(0,o.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none z-0",children:[" ",l.map(e=>(0,o.jsx)("div",{className:"firework-particle",style:{left:e.originX,top:e.originY,backgroundColor:e.color,"--tx":e.targetOffsetX,"--ty":e.targetOffsetY,animationDelay:"".concat(e.delay,"s"),animationDuration:"".concat(e.duration,"s"),"--particle-initial-size":"".concat(e.size,"px"),"--trail-angle":"".concat(e.trailAngle,"deg")}},e.id))]}),(0,o.jsxs)("div",{className:"bg-card text-card-foreground p-8 rounded-xl shadow-2xl text-center z-10 transform transition-all animate-in fade-in zoom-in-90 duration-1000",children:[" ",(0,o.jsx)("div",{className:"mx-auto mb-4 h-32 w-32 relative rounded-full animate-image-glow bg-cover bg-center bg-no-repeat",style:{backgroundImage:"url(/assets/images/superman.png)"},role:"img","aria-label":"Superman character","data-ai-hint":"superhero character"}),(0,o.jsx)("h2",{id:"level-complete-title",className:"text-3xl md:text-4xl font-bold mb-3 text-primary",children:"Поздравляем!"}),(0,o.jsxs)("p",{className:"text-xl md:text-2xl mb-8 text-foreground/90",children:["Вы прошли уровень ",a,"!"]}),(0,o.jsxs)(s.$,{onClick:t,size:"lg",className:"text-lg px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200","aria-label":"Перейти на уровень ".concat(a+1),children:["Уровень ",a+1]})]})]})}},9434:(e,a,t)=>{t.d(a,{cn:()=>s});var o=t(2596),r=t(9688);function s(){for(var e=arguments.length,a=Array(e),t=0;t<e;t++)a[t]=arguments[t];return(0,r.QP)((0,o.$)(a))}}}]);